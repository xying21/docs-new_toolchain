<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.13">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CPNK56S8G3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CPNK56S8G3",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Nervos CKB" href="/develop/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&display=swap">
<script src="/js/extra.js"></script><title data-react-helmet="true">Nervos CKB Mainnet - Integration Guide | Nervos CKB</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://xying21.github.com/develop/img/undraw_online.svg"><meta data-react-helmet="true" name="twitter:image" content="https://xying21.github.com/develop/img/undraw_online.svg"><meta data-react-helmet="true" property="og:url" content="https://xying21.github.com/develop/docs/integrate/introduction"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Nervos CKB Mainnet - Integration Guide | Nervos CKB"><meta data-react-helmet="true" name="description" content="Connecting to the CKB network is extremely easy and only requires running one node on a machine. Once you&#x27;ve connected to the CKB network, you can use the RPC interface to interacting with the node."><meta data-react-helmet="true" property="og:description" content="Connecting to the CKB network is extremely easy and only requires running one node on a machine. Once you&#x27;ve connected to the CKB network, you can use the RPC interface to interacting with the node."><link data-react-helmet="true" rel="icon" href="/develop/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://xying21.github.com/develop/docs/integrate/introduction"><link data-react-helmet="true" rel="alternate" href="https://xying21.github.com/develop/docs/integrate/introduction" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://xying21.github.com/develop/docs/integrate/introduction" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/develop/assets/css/styles.3d7242b2.css">
<link rel="preload" href="/develop/assets/js/runtime~main.9a7d223e.js" as="script">
<link rel="preload" href="/develop/assets/js/main.b81bb0ca.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/develop/"><div class="navbar__logo"><img src="/develop/img/logo.png" alt="Nervos CKB" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/develop/img/logo.png" alt="Nervos CKB" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><a class="navbar__item navbar__link" href="/develop/docs/basics/introduction">Basics</a><a class="navbar__item navbar__link" href="/develop/docs/reference/introduction">Reference</a><a class="navbar__item navbar__link" href="/develop/docs/labs/introduction">Labs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/develop/docs/integrate/introduction">Integrate</a><a class="navbar__item navbar__link" href="/develop/docs/essays/introduction">Essays</a><a class="navbar__item navbar__link" href="/develop/docs/develop/developer-materials-guide">Develop</a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/develop/docs/integrate/introduction">Nervos CKB Mainnet - Integration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/develop/docs/integrate/qa">Q&amp;A | For Wallets/Exchanges/Mining Pools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/develop/docs/integrate/sdk">Nervos CKB SDK</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Nervos CKB Mainnet - Integration Guide</h1></header><p>Connecting to the CKB network is extremely easy and only requires running one node on a machine. Once you&#x27;ve connected to the CKB network, you can use the RPC interface to interacting with the node.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="about-nervos-ckb">About Nervos CKB<a aria-hidden="true" class="hash-link" href="#about-nervos-ckb" title="Direct link to heading">â€‹</a></h2><p>CKB is the layer 1 of Nervos Network, a public/permissionless blockchain. CKB uses <a href="https://en.wikipedia.org/wiki/Proof_of_work" target="_blank" rel="noopener noreferrer">Proof of Work</a> and <a href="https://medium.com/nervosnetwork/breaking-the-throughput-limit-of-nakamoto-consensus-ccdf65fe0832" target="_blank" rel="noopener noreferrer">improved Nakamoto consensus</a> to achieve maximized performance on average hardware and internet conditions without sacrificing decentralization and security, which are the core values of blockchain.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="run-a-ckb-node">Run A CKB Node<a aria-hidden="true" class="hash-link" href="#run-a-ckb-node" title="Direct link to heading">â€‹</a></h2><p>Youâ€™ll need to deploy nodes to connect with the CKB network, read data from the blockchain, and broadcast transactions onto the CKB network. For more information, please see <a href="https://docs.nervos.org/docs/basics/guides/mainnet" target="_blank" rel="noopener noreferrer">Run CKB With The Latest Release</a> or <a href="https://github.com/nervosnetwork/ckb/blob/v0.35.0/docs/run-ckb-with-docker.md" target="_blank" rel="noopener noreferrer">Run CKB With Docker</a>. You may also need an indexer to index live cells and transactions, and then you can try <a href="https://github.com/nervosnetwork/ckb-indexer" target="_blank" rel="noopener noreferrer">CKB Indexer</a>. If you are looking for a one-stop solution that includes both node and indexer, you can try <a href="https://github.com/xxuejie/perkins-tent" target="_blank" rel="noopener noreferrer">Perkins&#x27; Tent</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="server-requirements">Server Requirements<a aria-hidden="true" class="hash-link" href="#server-requirements" title="Direct link to heading">â€‹</a></h2><ul><li>OS: Ubuntu 18.04 LTS x86_64 (recommended)</li><li>Processor:  Mainstream CPU  4c</li><li>RAM: 4G</li><li>Storage: 100G SSD</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="writing-an-integration">Writing an integration<a aria-hidden="true" class="hash-link" href="#writing-an-integration" title="Direct link to heading">â€‹</a></h2><p>Before starting your integration, we recommend reading <a href="https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0022-transaction-structure/0022-transaction-structure.md" target="_blank" rel="noopener noreferrer">CKB Transaction Structure</a> RFC to familiarize yourself with an essential data structure in CKB. Some common issues and corresponding example solutions (using <a href="https://github.com/nervosnetwork/ckb-sdk-java/tree/v0.35.1" target="_blank" rel="noopener noreferrer">CKB SDK Java</a>) are listed below.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="generating-and-parsing-address">Generating and Parsing Address<a aria-hidden="true" class="hash-link" href="#generating-and-parsing-address" title="Direct link to heading">â€‹</a></h3><p><a href="https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0021-ckb-address-format/0021-ckb-address-format.md" target="_blank" rel="noopener noreferrer">CKB Address Format</a> is an application-level recommendation for cell lock script display. The lock script consists of three key parameters, including code_hash, hash_type, and args. CKB address packages lock script into a single line, verifiable, and human read friendly format.</p><ul><li>Generate an Address: <a href="https://github.com/nervosnetwork/ckb-sdk-java/blob/v0.35.1/ckb/src/test/java/utils/AddressGeneratorTest.java" target="_blank" rel="noopener noreferrer">JavaAddressGeneratorTest</a> or <a href="https://github.com/nervosnetwork/ckb-sdk-js/blob/v0.35.0/packages/ckb-sdk-utils/__tests__/address/index.test.js#L40" target="_blank" rel="noopener noreferrer">JsAddressGeneratorTest</a>.</li><li>Parse an Address: <a href="https://github.com/nervosnetwork/ckb-sdk-java/blob/v0.35.1/ckb/src/test/java/utils/AddressParserTest.java" target="_blank" rel="noopener noreferrer">JavaAddressParserTest</a> or <a href="https://github.com/nervosnetwork/ckb-sdk-js/blob/v0.35.0/packages/ckb-sdk-utils/__tests__/address/index.test.js#L78" target="_blank" rel="noopener noreferrer">JsAddressParserTest</a>.</li><li>Generate Private key: We wonâ€™t generate private keys for you on SDK. You need to produce it on your own, you can try <a href="https://github.com/web3j/web3j/blob/116539fff875a083c896b2d569d17416dfeb8a6f/crypto/src/main/java/org/web3j/crypto/Keys.java#L79" target="_blank" rel="noopener noreferrer">web3j</a>. CKB default lock script code using the same secp256k1 signature verification algorithm as used in bitcoin. For more information, please see <a href="https://github.com/nervosnetwork/ckb-system-scripts/blob/master/c/secp256k1_blake160_sighash_all.c" target="_blank" rel="noopener noreferrer">SECP256k1Blake160</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="transferring-ckb">Transferring CKB<a aria-hidden="true" class="hash-link" href="#transferring-ckb" title="Direct link to heading">â€‹</a></h3><p>The transmission of CKB between addresses is divided into three steps, constructing, signing, and submitting the transaction. You can use the following example to understand how to transfer CKB between addresses <a href="https://github.com/nervosnetwork/ckb-sdk-java/blob/v0.35.1/example/src/main/java/org/nervos/ckb/SingleSigWithCkbIndexerTxExample.java" target="_blank" rel="noopener noreferrer">SingleSigWithCkbIndexerTxExample</a> and <a href="https://github.com/nervosnetwork/ckb-sdk-java/blob/develop/example/src/main/java/org/nervos/ckb/TransferAllBalanceWithCkbIndexerExample.java" target="_blank" rel="noopener noreferrer">TransferAllBalanceWithCkbIndexerExample</a>. If you want to know the signing process, you can check <a href="https://github.com/nervosnetwork/ckb-system-scripts/wiki/How-to-sign-transaction" target="_blank" rel="noopener noreferrer">How to sign the transaction</a>. For the calculation of transaction fees, please see the <a href="https://github.com/nervosnetwork/ckb/wiki/Transaction-%C2%BB-Transaction-Fee" target="_blank" rel="noopener noreferrer">Transaction Fee</a>.</p><p>For withdrawal, need to support both transfers to <a href="https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0021-ckb-address-format/0021-ckb-address-format.md#short-payload-format" target="_blank" rel="noopener noreferrer">Short Payload Format Address</a> and transfers to <a href="https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0021-ckb-address-format/0021-ckb-address-format.md#full-payload-format" target="_blank" rel="noopener noreferrer">Full Payload Format</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="retrieving-data-from-node">Retrieving data from node<a aria-hidden="true" class="hash-link" href="#retrieving-data-from-node" title="Direct link to heading">â€‹</a></h3><p>You can make a JSON-RPC request to your CKB node with the SDK. There are some <a href="https://github.com/nervosnetwork/ckb-sdk-java/tree/v0.35.1" target="_blank" rel="noopener noreferrer">CKB SDK Java</a> examples: <a href="https://github.com/nervosnetwork/ckb-sdk-java/tree/v0.35.1#json-rpc" target="_blank" rel="noopener noreferrer">JSON-RPC Example</a>. Commonly used RPC interfaces are</p><ul><li><a href="https://github.com/nervosnetwork/ckb/blob/v0.35.0/rpc/README.md#get_tip_block_number" target="_blank" rel="noopener noreferrer">get_tip_block_number</a> Returns, the number/height of blocks in the longest blockchain.</li><li><a href="https://github.com/nervosnetwork/ckb/blob/v0.35.0/rpc/README.md#get_block_by_number" target="_blank" rel="noopener noreferrer">get_block_by_number</a> Get block by number/height.</li><li><a href="https://github.com/nervosnetwork/ckb/blob/v0.35.0/rpc/README.md#get_transaction" target="_blank" rel="noopener noreferrer">get_transaction</a> Returns the information about a transaction requested by transaction hash.
For more information, please see the <a href="https://github.com/nervosnetwork/ckb/blob/v0.35.0/rpc/README.md" target="_blank" rel="noopener noreferrer">CKB JSON-RPC protocols</a>. Other available SDK: <a href="https://github.com/nervosnetwork/ckb-sdk-js/tree/v0.35.0" target="_blank" rel="noopener noreferrer">CKB SDK JS</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="how-to-manage-cellslike-utxo-set">How to manage cells(like UTXO set)<a aria-hidden="true" class="hash-link" href="#how-to-manage-cellslike-utxo-set" title="Direct link to heading">â€‹</a></h3><p>Cell management mainly affects cell collection and address balance display. There are many ways to manage cells; here are two typical example solutions.</p><ul><li><strong>Recommended</strong>: use <a href="https://github.com/nervosnetwork/ckb-indexer" target="_blank" rel="noopener noreferrer">CKB Indexer</a> to collect cells and display balance.<ul><li><a href="https://github.com/nervosnetwork/ckb-indexer#get_cells_capacity" target="_blank" rel="noopener noreferrer">get_cells_capacity</a> Returns the live cells total capacity by the lock or type script. You can use this RPC to display address balance.</li></ul></li><li>Use your UTXO management framework to combine <a href="https://github.com/nervosnetwork/ckb/blob/v0.35.0/rpc/README.md" target="_blank" rel="noopener noreferrer">CKB JSON-RPC protocols</a> to scan the entire CKB blockchain.<ul><li>It is <strong>not recommended</strong> to use the ckb node internal <a href="https://github.com/nervosnetwork/ckb/blob/v0.35.0/rpc/README.md#indexer" target="_blank" rel="noopener noreferrer">Indexer module</a> to collect live cells, which is very slow and deprecated.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="confirmation-count-suggestion">Confirmation count suggestion<a aria-hidden="true" class="hash-link" href="#confirmation-count-suggestion" title="Direct link to heading">â€‹</a></h3><p>Since Nervos CKB network is secured by <a href="https://explorer.nervos.org/charts/hash-rate" target="_blank" rel="noopener noreferrer">ASIC PoW miners with extreme hash rate</a> now, it could achieve the same or better security threshold than Ethereum at <strong>24 block confirmations</strong>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="testing">Testing<a aria-hidden="true" class="hash-link" href="#testing" title="Direct link to heading">â€‹</a></h2><p>Once youâ€™ve fully integrated with the CKB network, please test on the testnet and mainnet.</p><ul><li><a href="https://explorer.nervos.org/aggron/" target="_blank" rel="noopener noreferrer">Testnet Explorer</a></li><li><a href="https://explorer.nervos.org/" target="_blank" rel="noopener noreferrer">Mainnet Explorer</a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="qa">Q&amp;A<a aria-hidden="true" class="hash-link" href="#qa" title="Direct link to heading">â€‹</a></h2><p>When you integrate CKB into your system, you may face some challenges. Here is a <a href="https://docs.nervos.org/docs/integrate/introduction" target="_blank" rel="noopener noreferrer">Q&amp;A</a> that may help you.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/develop/docs/integrate/qa"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Q&amp;A | For Wallets/Exchanges/Mining Pools<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#about-nervos-ckb" class="table-of-contents__link toc-highlight">About Nervos CKB</a></li><li><a href="#run-a-ckb-node" class="table-of-contents__link toc-highlight">Run A CKB Node</a></li><li><a href="#server-requirements" class="table-of-contents__link toc-highlight">Server Requirements</a></li><li><a href="#writing-an-integration" class="table-of-contents__link toc-highlight">Writing an integration</a><ul><li><a href="#generating-and-parsing-address" class="table-of-contents__link toc-highlight">Generating and Parsing Address</a></li><li><a href="#transferring-ckb" class="table-of-contents__link toc-highlight">Transferring CKB</a></li><li><a href="#retrieving-data-from-node" class="table-of-contents__link toc-highlight">Retrieving data from node</a></li><li><a href="#how-to-manage-cellslike-utxo-set" class="table-of-contents__link toc-highlight">How to manage cells(like UTXO set)</a></li><li><a href="#confirmation-count-suggestion" class="table-of-contents__link toc-highlight">Confirmation count suggestion</a></li></ul></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing</a></li><li><a href="#qa" class="table-of-contents__link toc-highlight">Q&amp;A</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Foundation</div><ul class="footer__items"><li class="footer__item"><a href="https://www.nervos.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">About Us</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developer</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/nervosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0002-ckb/0002-ckb.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Whitepaper</a></li><li class="footer__item"><a href="https://github.com/nervosnetwork/rfcs" target="_blank" rel="noopener noreferrer" class="footer__link-item">RFCs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/AqGTUE9" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://talk.nervos.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum</a></li><li class="footer__item"><a href="https://www.reddit.com/r/NervosNetwork/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit</a></li><li class="footer__item"><a href="https://t.me/nervosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/nervosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://medium.com/nervosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCONuJGdMzUY0Y6jrPBOzH7A" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021  Nervos Foundation. All Rights Reserved.</div></div></div></footer></div>
<script src="/develop/assets/js/runtime~main.9a7d223e.js"></script>
<script src="/develop/assets/js/main.b81bb0ca.js"></script>
</body>
</html>