"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9670],{3905:(e,t,n)=>{n.d(t,{Zo:()=>h,kt:()=>p});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},h=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,h=i(e,["components","mdxType","originalType","parentName"]),d=c(n),p=a,m=d["".concat(l,".").concat(p)]||d[p]||u[p]||r;return n?o.createElement(m,s(s({ref:t},h),{},{components:n})):o.createElement(m,s({ref:t},h))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,s=new Array(r);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var c=2;c<r;c++)s[c]=n[c];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},263:(e,t,n)=>{n.r(t),n.d(t,{frontMatter:()=>i,contentTitle:()=>l,metadata:()=>c,toc:()=>h,default:()=>d});var o=n(7462),a=n(3366),r=(n(7294),n(3905)),s=["components"],i={id:"consensus",title:"Consensus"},l=void 0,c={unversionedId:"basics/concepts/consensus",id:"basics/concepts/consensus",title:"Consensus",description:"What is Consensus?",source:"@site/docs/basics/concepts/consensus.md",sourceDirName:"basics/concepts",slug:"/basics/concepts/consensus",permalink:"/docs-new_toolchain/docs/basics/concepts/consensus",tags:[],version:"current",frontMatter:{id:"consensus",title:"Consensus"},sidebar:"Basics",previous:{title:"Cell Model",permalink:"/docs-new_toolchain/docs/basics/concepts/cell-model"},next:{title:"Economics",permalink:"/docs-new_toolchain/docs/basics/concepts/economics"}},h=[{value:"What is Consensus?",id:"what-is-consensus",children:[],level:2},{value:"NC-Max",id:"nc-max",children:[],level:2},{value:"Improved Block Propagation",id:"improved-block-propagation",children:[],level:2},{value:"Improved Block Throughput",id:"improved-block-throughput",children:[],level:2},{value:"Improved Resistance to Selfish Mining",id:"improved-resistance-to-selfish-mining",children:[],level:2},{value:"Eaglesong",id:"eaglesong",children:[],level:2},{value:"Further Reading",id:"further-reading",children:[],level:2}],u={toc:h};function d(e){var t=e.components,n=(0,a.Z)(e,s);return(0,r.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"what-is-consensus"},"What is Consensus?"),(0,r.kt)("p",null,"Consensus is a state of agreement between the participants of a decentralized network. This means that the nodes on the network agree on the history and current state of the blockchain. State represents data such as the amount of CKBytes every user owns and which digital assets they have."),(0,r.kt)("p",null,"The Nervos Network consists of thousands of computers and millions of transactions that are constantly flowing through the network. A consensus must be reached between the computers on the network about which transactions are valid and in what order they occurred. This is a challenge because nodes are positioned all over the world, and internet transmission isn\u2019t instant or completely reliable."),(0,r.kt)("p",null,"Nodes pass messages to each other, sharing information about transactions and blocks that have been created. The messages might arrive out of order, or very late, or not at all. It also cannot be guaranteed that all of the nodes are functioning correctly or are being honest. "),(0,r.kt)("p",null,"Billions of dollars of value are at stake. The challenge is great, and robust solutions are of absolute importance."),(0,r.kt)("h2",{id:"nc-max"},"NC-Max"),(0,r.kt)("p",null,"A project as ambitious as Nervos requires a zero-compromise solution for consensus. Many options were considered and it was determined that Proof of Work (PoW) is still the best solution."),(0,r.kt)("p",null,"Proof of Stake (PoS) is one of the strongest contenders to PoW. The major advantage of PoS is that it requires substantially less electricity to operate. However, PoW still offers several advantages over PoS:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"PoW mining is subject to external changes in technology, energy production, and regulation. This means that continued reinvestment is necessary to stay ahead of the competition, making long term monopolization difficult. "),(0,r.kt)("li",{parentName:"ul"},"PoW does not give strong advantages to the early participants of the system. There is no way for a late participant to compete with an early participant in PoS, because rewards are awarded deterministically."),(0,r.kt)("li",{parentName:"ul"},"PoW is more simplistic and requires far fewer assumptions to be made. This means the potential for security holes is substantially lower.")),(0,r.kt)("p",null,"Bitcoin\u2019s Nakamoto Consensus is the PoW algorithm that has successfully defended Bitcoin from countless attacks for over a decade. The technology is well understood and proven through the test of time. Nervos\u2019 NC-MAX builds on Nakamoto Consensus by improving block propagation, block throughput, and resistance to selfish mining."),(0,r.kt)("h2",{id:"improved-block-propagation"},"Improved Block Propagation"),(0,r.kt)("p",null,"When a transaction is broadcast to all the nodes on the network, it remains in queue until it is included in a future block. A bottleneck can occur if the transaction broadcast is not fully successful. For instance, some nodes might be aware of the transaction and others may not. The nodes will need to sync their missing transactions before a block can be properly verified. There will be network delays as the missing transactions are found and distributed to all nodes that need them."),(0,r.kt)("p",null,"This bottleneck limits the performance of a blockchain because its impact becomes greater as the time between blocks is lowered. It can also lead to selfish mining attacks where miners intentionally create network delays so that they will have an advantage over others to gain more mining rewards."),(0,r.kt)("p",null,"NC-MAX solves this problem by splitting the confirmation process into two steps: propose and commit. A transaction is first proposed to the network. After several blocks have been verified, the transaction can then be confirmed. This gives more time for transaction propagation without slowing down block propagation. Once a transaction has been proposed and fully propagated, then it can be committed. This eliminates transaction propagation as a delay factor to block propagation, eliminating the bottleneck and selfish mining attack."),(0,r.kt)("h2",{id:"improved-block-throughput"},"Improved Block Throughput"),(0,r.kt)("p",null,"With a shorter block interval, blocks are created more frequently, enabling faster transaction confirmations and a higher throughput for the network. The downside of a shorter block interval is that internet congestion has a greater effect on the ability of the network to properly synchronize. There are times when blocks are created while the network is not fully in sync, creating so-called orphan blocks. This means that the efforts towards network security are temporarily divided. Orphan blocks are inevitable; however, if too many occur within a short period of time, shorter block intervals become counterproductive."),(0,r.kt)("p",null,"NC-MAX improves this by automatically adjusting block intervals based on network performance. In the consensus protocol, the number of orphan blocks created within a time frame is tracked and taken into account. The network is then able to adjust the block interval to maximize throughput while maintaining an expected Orphan Rate. This results in dramatically shorter block times without compromising security.  "),(0,r.kt)("h2",{id:"improved-resistance-to-selfish-mining"},"Improved Resistance to Selfish Mining"),(0,r.kt)("p",null,"Selfish mining is a practice where certain miners are able to secretly gain a larger share of mining rewards while contributing less hash power to the network. This practice is discouraged, since it weakens overall network security and leads to irregular block times that can cause congestion problems."),(0,r.kt)("p",null,"NC-MAX offers the most accurate measurement of the network\u2019s computing power by taking into account both external and internal factors. The new model takes into account the actions miners would take to exploit the computing power calculation. Therefore, all known selfish mining attacks become unprofitable."),(0,r.kt)("h2",{id:"eaglesong"},"Eaglesong"),(0,r.kt)("p",null,"Bitcoin\u2019s Nakamoto Consensus internally utilizes a well-known hashing function known as SHA256. The majority of mining infrastructure that exists in the world is based on this algorithm."),(0,r.kt)("p",null,"Any new cryptocurrency that is also based on SHA256 immediately benefits from hardware availability. However, there is a downside in that the substantial amount of infrastructure available for a large cryptocurrency, like Bitcoin, can be used maliciously towards a small cryptocurrency during their early days. Having dedicated mining hardware available for your ecosystem is overall beneficial since it significantly increases the challenges of attacking the network. For these reasons, a new cryptographic hashing function called Eaglesong was created specifically for Nervos."),(0,r.kt)("p",null,"Eaglesong successfully blends novelty, simplicity, and security in a way that is easily implemented in both software and hardware. This advancement gives Nervos an edge in blockchain security while allowing for complete hardware sovereignty."),(0,r.kt)("h2",{id:"further-reading"},"Further Reading"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"For more information about Nervos consensus, see  ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0020-ckb-consensus-protocol/0020-ckb-consensus-protocol.md"},"Consensus Protocol RFC"),". "),(0,r.kt)("li",{parentName:"ul"},"For more information about the Eaglesong algorithm, see ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0010-eaglesong/0010-eaglesong.md"},"Eaglesong RFC"),".")))}d.isMDXComponent=!0}}]);