"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4937],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>m});var l=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,l,r=function(e,n){if(null==e)return{};var t,l,r={},a=Object.keys(e);for(l=0;l<a.length;l++)t=a[l],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)t=a[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=l.createContext({}),p=function(e){var n=l.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=p(e.components);return l.createElement(i.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},d=l.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=p(t),m=r,k=d["".concat(i,".").concat(m)]||d[m]||s[m]||a;return t?l.createElement(k,o(o({ref:n},u),{},{components:t})):l.createElement(k,o({ref:n},u))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,o=new Array(a);o[0]=d;var c={};for(var i in n)hasOwnProperty.call(n,i)&&(c[i]=n[i]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var p=2;p<a;p++)o[p]=t[p];return l.createElement.apply(null,o)}return l.createElement.apply(null,t)}d.displayName="MDXCreateElement"},399:(e,n,t)=>{t.r(n),t.d(n,{frontMatter:()=>i,contentTitle:()=>p,metadata:()=>u,toc:()=>s,default:()=>m});var l=t(7462),r=t(3366),a=(t(7294),t(3905)),o=t(4996),c=(t(9960),["components"]),i={id:"intro",title:"CKB-CLI Introduction",sidebar_label:"CKB-CLI Introduction"},p=void 0,u={unversionedId:"develop/tools/ckb-cli/intro",id:"develop/tools/ckb-cli/intro",title:"CKB-CLI Introduction",description:"Overview",source:"@site/docs/develop/tools/ckb-cli/intro.md",sourceDirName:"develop/tools/ckb-cli",slug:"/develop/tools/ckb-cli/intro",permalink:"/develop/docs/develop/tools/ckb-cli/intro",tags:[],version:"current",frontMatter:{id:"intro",title:"CKB-CLI Introduction",sidebar_label:"CKB-CLI Introduction"},sidebar:"Develop",previous:{title:"Developer Tooling",permalink:"/develop/docs/develop/tooling"},next:{title:"Account Management",permalink:"/develop/docs/develop/tools/ckb-cli/ckb-cli-account"}},s=[{value:"Overview",id:"overview",children:[],level:2},{value:"Source",id:"source",children:[],level:2},{value:"Commands",id:"commands",children:[{value:"\u68c0\u67e5\u7248\u672c",id:"\u68c0\u67e5\u7248\u672c",children:[],level:3},{value:"\u53ef\u7528\u547d\u4ee4",id:"\u53ef\u7528\u547d\u4ee4",children:[],level:3},{value:"\u8bbe\u5b9a RPC URL",id:"\u8bbe\u5b9a-rpc-url",children:[],level:3},{value:"TUI",id:"tui",children:[],level:3},{value:"\u8f93\u51fa\u683c\u5f0f",id:"\u8f93\u51fa\u683c\u5f0f",children:[{value:"\u9ed8\u8ba4\u8f93\u51fa yaml \u683c\u5f0f",id:"\u9ed8\u8ba4\u8f93\u51fa-yaml-\u683c\u5f0f",children:[],level:4},{value:"\u8f93\u51fa json \u683c\u5f0f",id:"\u8f93\u51fa-json-\u683c\u5f0f",children:[],level:4}],level:3}],level:2}],d={toc:s};function m(e){var n=e.components,t=(0,r.Z)(e,c);return(0,a.kt)("wrapper",(0,l.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb-cli"},"ckb-cli")," is a command line tool for debugging CKB in development to facilitate user interaction with CKB. The functions of ckb-cli include:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Search for blockchain information."),(0,a.kt)("li",{parentName:"ul"},"Configure environment variables."),(0,a.kt)("li",{parentName:"ul"},"Invoke RPC to interact with CKB nodes."),(0,a.kt)("li",{parentName:"ul"},"Handle mock transactions."),(0,a.kt)("li",{parentName:"ul"},"Creates wallets and queries balances, etc.")),(0,a.kt)("h2",{id:"source"},"Source"),(0,a.kt)("p",null,"ckb \u5ba2\u6237\u7aef\u5185\u542b\u6709 ckb-cli\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u4e0b\u8f7d ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb/releases"},"ckb \u5ba2\u6237\u7aef"),"\u83b7\u53d6\u6700\u65b0\u7248\u7684 ckb-cli\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u524d\u5f80 ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb-cli/releases"},"ckb-cli \u4ee3\u7801\u5e93"),"\u83b7\u53d6\u6700\u65b0\u7248\u672c\u7684 ckb-cli\u3002"),(0,a.kt)("h2",{id:"commands"},"Commands"),(0,a.kt)("h3",{id:"\u68c0\u67e5\u7248\u672c"},"\u68c0\u67e5\u7248\u672c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"ckb-cli --version\n\n=> ckb-cli 0.30.0 (2a7ed95 2020-03-20)\n")),(0,a.kt)("h3",{id:"\u53ef\u7528\u547d\u4ee4"},"\u53ef\u7528\u547d\u4ee4"),(0,a.kt)("p",null,"\u8bf7\u6c42\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"# Top level help doc\nckb-cli --help\n# RPC help doc\nckb-cli rpc --help\n")),(0,a.kt)("p",null,"\u54cd\u5e94\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"USAGE:\n    ckb-cli [FLAGS] [OPTIONS] [SUBCOMMAND]\n\nFLAGS:\n                           # \u8f93\u51fa jason \u53d6\u6d88\u9ad8\u4eae\n        --no-color         Do not highlight(color) output json\n                           # \u663e\u793a\u8bf7\u6c42\u53c2\u6570\n        --debug            Display request parameters\n                           # \u786e\u4fdd\u7d22\u5f15\u5e93\u5728\u6267\u884c\u547d\u4ee4\u524d\u5b8c\u6210\u540c\u6b65\n        --wait-for-sync    Ensure the index-store synchronizes completely before command being executed\n                           # \u6253\u5370\u5e2e\u52a9\u4fe1\u606f\n    -h, --help             Prints help information\n                           # \u6253\u5370\u7248\u672c\u4fe1\u606f\n    -V, --version          Prints version information\n\nOPTIONS:\n                                            # RPC API \u670d\u52a1 url\n        --url <url>                        RPC API server url\n                                            # \u9009\u62e9\u8f93\u51fa\u683c\u5f0f\uff0c\u9ed8\u8ba4 yaml\uff0c\u53ef\u9009\u9879\uff1ayaml\uff0cjson\n        --output-format <output-format>    Select output format [default: yaml]  [possible values: yaml, json]\n\nSUBCOMMANDS:\n                # \u5bf9\u8282\u70b9\u8c03\u7528 RPC \u547d\u4ee4\n    rpc         Invoke RPC call to node\n                # \u8d26\u6237\u7ba1\u7406\n    account     Manage accounts\n                # \u5904\u7406\u6a21\u62df\u4ea4\u6613\uff08\u9a8c\u8bc1/\u53d1\u9001\uff09\n    mock-tx     Handle mock transactions (verify/send)\n                # \u5904\u7406\u5e38\u89c1\u7684\u7b7e\u540d/\u591a\u7b7e\u4ea4\u6613\n    tx          Handle common sighash/multisig transaction\n                # \u542f\u52a8 API \u670d\u52a1\n    server      Start advanced API server\n                # \u5e38\u7528\u5de5\u5177\n    util        Utilities\n                # molecule \u7f16\u7801/\u89e3\u7801\u5de5\u5177\n    molecule    Molecule encode/decode utilities\n                # \u4ea4\u6613 / \u67e5\u8be2\u4f59\u989d\uff08\u901a\u8fc7\u672c\u5730\u7d22\u5f15\uff09/ key utils\n    wallet      Transfer / query balance (with local index) / key utils\n                # \u5b58\u5165 / \u51c6\u5907 / \u53d6\u51fa / \u67e5\u8be2 Nervos DAO \u4f59\u989d\uff08\u901a\u8fc7\u672c\u5730\u7d22\u5f15\uff09/ key utils\n    dao         Deposit / prepare / withdraw / query NervosDAO balance (with local index) / key utils\n                # \u8fdb\u5165 TUI \u6a21\u5f0f\n    tui         Enter TUI mode\n                # help\n    help        Prints this message or the help of the given subcommand(s)\n")),(0,a.kt)("h3",{id:"\u8bbe\u5b9a-rpc-url"},"\u8bbe\u5b9a RPC URL"),(0,a.kt)("p",null,"rpc url \u9ed8\u8ba4\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"127.0.0.1:8114"),"\uff0c\u53ef\u4ee5\u4fee\u6539\u4e3a\uff1a"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"export API_URL=http://<\u516c\u5171ip>:8114")),(0,a.kt)("p",null,"\u6216\u6539\u4e3a\u9ed8\u8ba4\n",(0,a.kt)("inlineCode",{parentName:"p"},"export API_URL=http://127.0.0.1:8114")),(0,a.kt)("p",null,"\u5728\u6267\u884c\u4e00\u4e9b\u547d\u4ee4\u65f6\uff0c\u4f1a\u4ece\u8bbe\u5b9a\u7684 rpc url \u4e2d\u83b7\u5f97\u6570\u636e\u3002"),(0,a.kt)("h3",{id:"tui"},"TUI"),(0,a.kt)("p",null,"\u5728\u8fd0\u884c ckb \u8282\u70b9\u540e\uff0c\u67e5\u770b\u540c\u6b65\u72b6\u6001"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"# \u9700\u5728\u94fe\u542f\u52a8\u540e\u4f7f\u7528\nckb-cli tui\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Chain"),"\uff1a \u8fd0\u884c\u7684 mainnet\u3001testnet\u3001dev"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Epoch"),"\uff1a\u5468\u671f"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Difficulty"),"\uff1a\u96be\u5ea6"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Tip Block"),"\uff1a\u5f53\u524d\u6700\u9ad8\u533a\u5757")),(0,a.kt)("img",{src:(0,o.Z)("img/tui.png"),width:"50%"}),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"\u8f93\u51fa\u683c\u5f0f"},"\u8f93\u51fa\u683c\u5f0f"),(0,a.kt)("p",null,"\u9ed8\u8ba4\u8f93\u51fa yaml \u683c\u5f0f\uff0c\u52a0\u5165 ",(0,a.kt)("inlineCode",{parentName:"p"},"--output-format json")," \u540e\u8f93\u51fa json \u683c\u5f0f\u3002"),(0,a.kt)("h4",{id:"\u9ed8\u8ba4\u8f93\u51fa-yaml-\u683c\u5f0f"},"\u9ed8\u8ba4\u8f93\u51fa yaml \u683c\u5f0f"),(0,a.kt)("p",null,"\u8bf7\u6c42:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"ckb-cli rpc get_tip_header\n")),(0,a.kt)("details",null,(0,a.kt)("summary",null,"\u70b9\u51fb\u67e5\u770b\u8be6\u7ec6\u8f93\u51fa"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'version: 0\ncompact_target: 0x20010000\ntimestamp: "1585623784848 (2020-03-31 11:03:04.848 +08:00)"\nnumber: 15\nepoch: "0x3e8000f000000 {number: 0, index: 15, length: 1000}"\nparent_hash: 0xaef44205227ee5c1ed9054c7cf90bf7893d9ec95cf769497d5a4d4887119c67a\ntransactions_root: 0xf20f3b68f7661180b162f93eb001edc70c3b77f01e750ca5b4a3c4ef95f53e1d\nproposals_hash: 0x0000000000000000000000000000000000000000000000000000000000000000\nuncles_hash: 0x0000000000000000000000000000000000000000000000000000000000000000\ndao: 0x4030263fe021a12eb4e10d13f38623006132a176c400000000c78cd606fbfe06\nnonce: 0x4215d94fd0f4fa327c3b192a054ace61\nhash: 0xbf6b97e591081f0412d58da5aa802a3bff28d2442384f413beb763df6d1af286\n'))),(0,a.kt)("h4",{id:"\u8f93\u51fa-json-\u683c\u5f0f"},"\u8f93\u51fa json \u683c\u5f0f"),(0,a.kt)("p",null,"\u8bf7\u6c42:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"ckb-cli rpc get_tip_header --output-format json\n")),(0,a.kt)("details",null,(0,a.kt)("summary",null,"\u70b9\u51fb\u67e5\u770b\u8be6\u7ec6\u8f93\u51fa"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "compact_target": "0x20010000",\n  "dao": "0x50ccf902cc22a12e14d8993ef3862300f0ab150bf5000000003be7840cfbfe06",\n  "epoch": "0x3e80013000000 {number: 0, index: 19, length: 1000}",\n  "hash": "0xcb76494f2a288eecb8965be41eb1e7aa337dc30c9604dc0791a1bc581bade1f8",\n  "nonce": "0x1c30e32d0f9c98b299df3272acd0d0ab",\n  "number": 19,\n  "parent_hash": "0xd1bfac76c80bdffe80d8865a4d13fbff75eb563a3ef9b106b334b5577683e1dc",\n  "proposals_hash": "0x0000000000000000000000000000000000000000000000000000000000000000",\n  "timestamp": "1585623804894 (2020-03-31 11:03:24.894 +08:00)",\n  "transactions_root": "0x4f2605ef84fd54fe457c40c5efef0333b184cf6de5286e28b6452ec4fdada52e",\n  "uncles_hash": "0x0000000000000000000000000000000000000000000000000000000000000000",\n  "version": 0\n}\n'))),(0,a.kt)("hr",null),(0,a.kt)("p",null,"\u547d\u4ee4\u4f7f\u7528\uff1a",(0,a.kt)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb-cli/wiki/Sub-Commands"},"https://github.com/nervosnetwork/ckb-cli/wiki/Sub-Commands")))}m.isMDXComponent=!0}}]);